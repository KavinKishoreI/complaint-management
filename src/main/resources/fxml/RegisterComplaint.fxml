<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.layout.Region?>

<BorderPane xmlns="http://javafx.com/javafx/21" 
            xmlns:fx="http://javafx.com/fxml/1" 
            fx:controller="com.complaintmanagement.controller.RegisterComplaintController"
            styleClass="root-container">
    
    <!-- Header Section -->
    <top>
        <VBox styleClass="header-section">
            <padding>
                <Insets top="20.0" right="30.0" bottom="20.0" left="30.0"/>
            </padding>
            
            <HBox alignment="CENTER_LEFT" spacing="15.0">
                <!-- Back Button -->
                <Button fx:id="backButton" 
                        text="← Back" 
                        onAction="#handleBack"
                        styleClass="back-button">
                    <font>
                        <Font size="13.0"/>
                    </font>
                </Button>
                
                <Region HBox.hgrow="ALWAYS"/>
                
                <!-- Title -->
                <Label text="Register New Complaint" styleClass="page-title">
                    <font>
                        <Font name="Arial Bold" size="28.0"/>
                    </font>
                </Label>
                
                <Region HBox.hgrow="ALWAYS"/>
                
                <!-- User Info Label -->
                <Label fx:id="userInfoLabel" 
                       text="Citizen: User Name" 
                       styleClass="user-info-label">
                    <font>
                        <Font size="13.0"/>
                    </font>
                </Label>
            </HBox>
            
            <Label text="Fill in the details below to submit your complaint" 
                   styleClass="subtitle">
                <font>
                    <Font size="14.0"/>
                </font>
                <VBox.margin>
                    <Insets top="5.0" left="60.0"/>
                </VBox.margin>
            </Label>
        </VBox>
    </top>
    
    <!-- Main Form Content -->
    <center>
        <ScrollPane fitToWidth="true" styleClass="scroll-pane">
            <VBox spacing="25.0" styleClass="form-container">
                <padding>
                    <Insets top="30.0" right="50.0" bottom="30.0" left="50.0"/>
                </padding>
                
                <!-- Complaint Title Section -->
                <VBox spacing="8.0" styleClass="field-section">
                    <Label text="Complaint Title *" styleClass="field-label">
                        <font>
                            <Font name="Arial Bold" size="14.0"/>
                        </font>
                    </Label>
                    <TextField fx:id="titleField" 
                               promptText="Enter a brief title for your complaint" 
                               styleClass="text-field"
                               prefHeight="40.0"/>
                    <Label fx:id="titleErrorLabel" 
                           text="" 
                           styleClass="error-label"
                           visible="false"/>
                </VBox>
                
                <!-- Complaint Type Section -->
                <VBox spacing="8.0" styleClass="field-section">
                    <Label text="Complaint Type *" styleClass="field-label">
                        <font>
                            <Font name="Arial Bold" size="14.0"/>
                        </font>
                    </Label>
                    <ComboBox fx:id="complaintTypeCombo" 
                              promptText="Select complaint type" 
                              styleClass="combo-box"
                              prefWidth="400.0"
                              prefHeight="40.0"/>
                    <Label fx:id="typeErrorLabel" 
                           text="" 
                           styleClass="error-label"
                           visible="false"/>
                    <Label text="ℹ️ The system will automatically assign your complaint to the appropriate department" 
                           styleClass="help-text">
                        <font>
                            <Font size="11.0"/>
                        </font>
                    </Label>
                </VBox>
                
                <!-- Complaint Description Section -->
                <VBox spacing="8.0" styleClass="field-section">
                    <Label text="Complaint Description *" styleClass="field-label">
                        <font>
                            <Font name="Arial Bold" size="14.0"/>
                        </font>
                    </Label>
                    <TextArea fx:id="descriptionArea" 
                              promptText="Provide detailed information about your complaint..." 
                              styleClass="text-area"
                              prefRowCount="6"
                              wrapText="true"/>
                    <Label fx:id="descErrorLabel" 
                           text="" 
                           styleClass="error-label"
                           visible="false"/>
                    <HBox spacing="10.0" alignment="CENTER_LEFT">
                        <Label fx:id="charCountLabel" 
                               text="0 / 1000 characters" 
                               styleClass="char-count">
                            <font>
                                <Font size="11.0"/>
                            </font>
                        </Label>
                    </HBox>
                </VBox>
                
                <!-- Status Label -->
                <VBox spacing="8.0" alignment="CENTER">
                    <Label fx:id="statusLabel" 
                           text="" 
                           styleClass="status-label"
                           visible="false"
                           wrapText="true"
                           maxWidth="800.0">
                        <font>
                            <Font size="13.0"/>
                        </font>
                    </Label>
                </VBox>
                
                <!-- Action Buttons -->
                <HBox spacing="15.0" alignment="CENTER" styleClass="button-section">
                    <padding>
                        <Insets top="20.0"/>
                    </padding>
                    
                    <!-- Submit Button -->
                    <Button fx:id="submitButton" 
                            text="Submit Complaint" 
                            onAction="#handleSubmit" 
                            styleClass="submit-button"
                            prefWidth="200.0"
                            prefHeight="45.0">
                        <font>
                            <Font name="Arial Bold" size="14.0"/>
                        </font>
                    </Button>
                    
                    <!-- Clear Button -->
                    <Button fx:id="clearButton" 
                            text="Clear Form" 
                            onAction="#handleClear" 
                            styleClass="clear-button"
                            prefWidth="150.0"
                            prefHeight="45.0">
                        <font>
                            <Font size="13.0"/>
                        </font>
                    </Button>
                    
                    <!-- Cancel Button -->
                    <Button fx:id="cancelButton" 
                            text="Cancel" 
                            onAction="#handleCancel" 
                            styleClass="cancel-button"
                            prefWidth="120.0"
                            prefHeight="45.0">
                        <font>
                            <Font size="13.0"/>
                        </font>
                    </Button>
                </HBox>
                
                <!-- Help Section -->
                <VBox spacing="5.0" styleClass="help-section">
                    <padding>
                        <Insets top="20.0"/>
                    </padding>
                    <Label text="📌 Note:" styleClass="help-title">
                        <font>
                            <Font name="Arial Bold" size="12.0"/>
                        </font>
                    </Label>
                    <Label text="• All fields marked with * are mandatory" 
                           styleClass="help-text">
                        <font>
                            <Font size="11.0"/>
                        </font>
                    </Label>
                    <Label text="• Provide as much detail as possible for faster resolution" 
                           styleClass="help-text">
                        <font>
                            <Font size="11.0"/>
                        </font>
                    </Label>
                    <Label text="• You can track your complaint status after submission" 
                           styleClass="help-text">
                        <font>
                            <Font size="11.0"/>
                        </font>
                    </Label>
                </VBox>
            </VBox>
        </ScrollPane>
    </center>
</BorderPane>
